# SOKOUL v2 Configuration Example
# Copy this file to .env and fill in your values

# Main server config
PORT=3000
NODE_ENV=development
BASE_URL=http://localhost:3000

# Database
DATABASE_URL=postgres://sokoul:password@localhost:5432/sokoul

# Redis
REDIS_URL=redis://127.0.0.1:6379

# NATS
NATS_URL=nats://127.0.0.1:4222

# Server
SERVER_ADDRESS=127.0.0.1:3000
SOKOUL_API_KEY=your_secure_api_key_here
JWT_SECRET=change_me_with_a_long_random_secret
RUN_MIGRATIONS=false

# CORS
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# TMDB (get from https://www.themoviedb.org/settings/api)
TMDB_API_KEY=your_tmdb_api_key_here
TMDB_LANGUAGE=fr-FR
TMDB_IMAGE_BASE_URL=https://image.tmdb.org/t/p/original

# TheTVDB (optional - richer TV metadata)
THETVDB_API_KEY=your_thetvdb_api_key_here
THETVDB_PIN=your_thetvdb_pin_here

# OMDb (optional - ratings and long descriptions)
OMDB_API_KEY=your_omdb_api_key_here

# Fanart.tv (optional - clear logos and hero backdrops)
FANART_API_KEY=your_fanart_api_key_here
FANART_CLIENT_KEY=your_fanart_client_key_here

# Trakt (free - trending, popular, recommendations - https://trakt.tv/oauth/applications)
TRAKT_CLIENT_ID=your_trakt_client_id_here

# TasteDive (free - similar content recommendations - https://tastedive.com/account/api_access)
TASTEDIVE_API_KEY=your_tastedive_api_key_here

# Watchmode (free tier - streaming availability - https://api.watchmode.com/)
WATCHMODE_API_KEY=your_watchmode_api_key_here

# Simkl (free tier - unified movie/tv/anime - https://simkl.com/settings/api)
SIMKL_API_KEY=your_simkl_api_key_here

# uNoGS (RapidAPI - Netflix search by region - https://rapidapi.com/unogsng/api/unogsng)
UNOGS_API_KEY=your_unogs_api_key_here

# IMDbOT & Stream (NO API KEY NEEDED - free, public)
# IMDBBOT_BASE_URL=https://imdb-api.com (default)
# STREAM_BASE_URL=https://www.stream.cz/api (default)

# TVMaze & Jikan/MyAnimeList - NO API KEY NEEDED (free, public)

# Prowlarr (optional - for torrent searching)
PROWLARR_URL=http://localhost:9696
PROWLARR_API_KEY=your_prowlarr_key_here

# FlareSolverr (optional - for bypassing Cloudflare)
FLARESOLVERR_URL=http://flaresolverr:8191

# Jackett (alternative to Prowlarr)
JACKETT_URL=http://localhost:9117
JACKETT_API_KEY=your_jackett_key_here

# Real-Debrid (optional - for download links)
REALDEBRID_API_TOKEN=your_realdebrid_token_here

# Telegram Bot (free)
TELEGRAM_ENABLED=false
# Used by teloxide::Bot::from_env()
TELOXIDE_TOKEN=your_telegram_bot_token_here
# Optional alias often used in docs/scripts
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Oracle/LLaMa.cpp (optional - for AI validation)
ORACLE_ENABLED=false
ORACLE_URL=http://127.0.0.1:8080

# File Storage
DOWNLOAD_DIR=./downloads
MAX_CONCURRENT_DOWNLOADS=3

# Streaming (Playwright/Browser scraping)
STREAMING_ENABLED=false
STREAMING_HEADLESS=true

# Rate Limiting
RATE_LIMIT_RPS=30

# Security (Malware Detection)
# VirusTotal API key for URL/file scanning
# Get free key from https://www.virustotal.com/gui/sign-in
VIRUSTOTAL_API_KEY=your_virustotal_api_key_here
# Enable/disable URL security checks (default: true)
SECURITY_CHECK_ENABLED=true
# Auto-block critical risk URLs (default: true)
AUTO_BLOCK_CRITICAL=true

# Logging
RUST_LOG=info,sokoul=debug,tower_http=debug

# Email Notifications (SMTP) - FREE TIER AVAILABLE
# Gmail: create app-specific password at https://myaccount.google.com/apppasswords
# SendGrid: free tier at https://sendgrid.com/pricing/
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=sokoul@example.com
SMTP_PASSWORD=your-app-password
ADMIN_EMAIL=admin@example.com

# Metrics & Monitoring (Prometheus - NO CONFIG NEEDED, built-in)
# Metrics endpoint: http://localhost:3000/metrics
# Default: enabled automatically

# Grafana (Pre-configured in docker-compose)
# Access: http://localhost:3001
# Default username: admin
# Default password: admin

# Prometheus (Pre-configured in docker-compose)
# Access: http://localhost:9090

# Loki (Log Aggregation - Pre-configured)
# Access: http://localhost:3100
# Retention: 30 days

# URLhaus (FREE - Malware URL detection)
# No API key needed - fully free and public
# Used automatically if VIRUSTOTAL_API_KEY not set

# Collections APIs (all FREE and PUBLIC - NO AUTH NEEDED)
# Game of Thrones: https://www.anapioficeandfire.com (NO KEY)
# Breaking Bad: https://breakingbadapi.com (NO KEY)
# Stranger Things: NO OFFICIAL API (database embedded)
# Lucifer: NO OFFICIAL API (database embedded)
# Harry Potter: https://hp-api.herokuapp.com (NO KEY)

# TV/Programming APIs (ADDITIONAL - all FREE/PUBLIC)
# TVMaze: https://www.tvmaze.com/api (NO KEY REQUIRED)
# Jikan (MyAnimeList): https://jikan.moe (NO KEY REQUIRED)
# IPTV-org channels list is used automatically for /api/tv/channels (NO KEY REQUIRED)

# Database Connection Pool
# Adjust based on your server resources
DATABASE_POOL_MIN=1
DATABASE_POOL_MAX=10

# Redis Connection
REDIS_POOL_MIN=1
REDIS_POOL_MAX=10

# NATS JetStream
NATS_MAX_RECONNECTS=3
NATS_RECONNECT_DELAY_MS=1000

# Security/Hardening
# Whitelist/Blacklist management - handled via API
# Audit logging - stored in PostgreSQL
# No additional config needed

